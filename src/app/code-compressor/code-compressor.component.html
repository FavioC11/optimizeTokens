<div class="compressor-container">
  <header class="app-header">
    <h1>ğŸ—œï¸ Compresor de CÃ³digo para Claude</h1>
    <p class="subtitle">
      Minimiza tokens manteniendo legibilidad perfecta para Claude AI
    </p>
  </header>

  <div class="controls-bar">
    <div class="language-selector">
      <label for="language">Lenguaje:</label>
      <select id="language" [(ngModel)]="selectedLanguage" class="select-input">
        <option value="typescript">TypeScript</option>
        <option value="html">HTML</option>
        <option value="css">CSS</option>
        <option value="json">JSON</option>
      </select>
    </div>

    <button (click)="loadExample()" class="btn btn-secondary">
      ğŸ“ Cargar Ejemplo
    </button>

    <button (click)="clear()" class="btn btn-danger">ğŸ—‘ï¸ Limpiar</button>
  </div>

  <div class="editor-container">
    <div class="editor-panel">
      <div class="panel-header">
        <h3>ğŸ“„ CÃ³digo Original</h3>
        <div class="header-actions">
          <button
            (click)="copyToClipboard(inputCode)"
            class="btn-icon"
            title="Copiar"
          >
            ğŸ“‹
          </button>
        </div>
      </div>
      <textarea
        [(ngModel)]="inputCode"
        class="code-editor"
        placeholder="Pega aquÃ­ tu cÃ³digo TypeScript, HTML, CSS o JSON..."
        spellcheck="false"
      ></textarea>
      <div class="panel-footer">
        <span class="token-count"
          >Tokens estimados: {{ estimateTokens(inputCode) }}</span
        >
      </div>
    </div>

    <div class="action-buttons">
      <button (click)="compress()" class="btn btn-primary btn-large">
        â¬‡ï¸ COMPRIMIR
      </button>

      <button
        (click)="swapInputOutput()"
        class="btn btn-secondary"
        title="Intercambiar"
      >
        ğŸ”„
      </button>

      <button (click)="decompress()" class="btn btn-success btn-large">
        â¬†ï¸ DESCOMPRIMIR
      </button>
    </div>

    <div class="editor-panel">
      <div class="panel-header">
        <h3>âš¡ CÃ³digo Comprimido</h3>
        <div class="header-actions">
          <button
            (click)="copyToClipboard(outputCode)"
            class="btn-icon"
            title="Copiar"
          >
            ğŸ“‹
          </button>
        </div>
      </div>
      <textarea
        [(ngModel)]="outputCode"
        class="code-editor"
        placeholder="El cÃ³digo comprimido aparecerÃ¡ aquÃ­..."
        spellcheck="false"
      ></textarea>
      <div class="panel-footer">
        <span class="token-count"
          >Tokens estimados: {{ estimateTokens(outputCode) }}</span
        >
      </div>
    </div>
  </div>

  <div class="stats-panel" *ngIf="stats">
    <h3>ğŸ“Š EstadÃ­sticas de CompresiÃ³n</h3>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">{{ stats.original }}</div>
        <div class="stat-label">Tokens Originales</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{{ stats.compressed }}</div>
        <div class="stat-label">Tokens Comprimidos</div>
      </div>
      <div class="stat-card stat-highlight">
        <div class="stat-value">{{ stats.saved }}</div>
        <div class="stat-label">Tokens Ahorrados</div>
      </div>
      <div class="stat-card stat-success">
        <div class="stat-value">{{ stats.percentage.toFixed(1) }}%</div>
        <div class="stat-label">ReducciÃ³n</div>
      </div>
    </div>
  </div>

  <div class="info-section">
    <h3>â„¹ï¸ CÃ³mo Funciona</h3>
    <div class="info-grid">
      <div class="info-card">
        <h4>âœ¨ CompresiÃ³n Inteligente</h4>
        <ul>
          <li>Elimina comentarios innecesarios</li>
          <li>Reduce espacios en blanco mÃºltiples</li>
          <li>Comprime estructuras sin perder semÃ¡ntica</li>
          <li>Mantiene saltos de lÃ­nea estratÃ©gicos</li>
        </ul>
      </div>
      <div class="info-card">
        <h4>ğŸ¯ Optimizado para Claude</h4>
        <ul>
          <li>Claude puede leer el cÃ³digo comprimido perfectamente</li>
          <li>Ahorra hasta 40-60% de tokens</li>
          <li>Reversible al 100% con descompresiÃ³n</li>
          <li>Ideal para contextualizar cÃ³digo en prompts</li>
        </ul>
      </div>
      <div class="info-card">
        <h4>ğŸ” Privacidad Total</h4>
        <ul>
          <li>Todo el procesamiento es local en tu navegador</li>
          <li>No se envÃ­a cÃ³digo a ningÃºn servidor</li>
          <li>Tu cÃ³digo nunca sale de tu computadora</li>
          <li>100% seguro y privado</li>
        </ul>
      </div>
    </div>
  </div>

  <footer class="app-footer">
    <p>
      ğŸ’¡ <strong>Tip:</strong> Usa el cÃ³digo comprimido en tus conversaciones
      con Claude para ahorrar tokens y obtener mejores respuestas.
    </p>
    <p class="footer-note">
      Esta herramienta te ayuda a maximizar tu lÃ­mite de tokens mientras
      mantienes la calidad del anÃ¡lisis de Claude.
    </p>
  </footer>
</div>
